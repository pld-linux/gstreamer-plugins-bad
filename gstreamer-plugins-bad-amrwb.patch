--- gst-plugins-bad-0.10.4/configure.ac.orig	2006-12-25 01:34:02.200176272 +0100
+++ gst-plugins-bad-0.10.4/configure.ac	2006-12-25 01:49:31.445130924 +0100
@@ -293,13 +293,8 @@
 dnl *** amrwb ***
 translit(dnm, m, l) AM_CONDITIONAL(USE_AMRWB, true)
 GST_CHECK_FEATURE(AMRWB, [amrwb code], amrwb, [
-  if test -f "ext/amrwb/amrwb-code/readme.txt"; then
-    HAVE_AMRWB="yes"
-  else
-    AC_MSG_WARN(Not amrwb code found. See README at ext/amrwb/)
-    HAVE_AMRWB="no"
-  fi
-  AC_SUBST(HAVE_AMRWB)
+  GST_CHECK_LIBHEADER(AMRWB, amrwb, D_IF_decode, ,amrwb/dec_if.h, AMRWB_LIBS="-lamrwb")
+  AC_SUBST(AMRWB_LIBS)
 ])
 
 dnl *** BZ2 ***
--- gst-plugins-bad-0.10.4/ext/amrwb/Makefile.am.orig	2006-03-29 18:50:07.000000000 +0200
+++ gst-plugins-bad-0.10.4/ext/amrwb/Makefile.am	2006-12-25 01:49:59.514730521 +0100
@@ -1,4 +1,3 @@
-SUBDIRS = amrwb-code 
 plugin_LTLIBRARIES = libgstamrwb.la
 
 libgstamrwb_la_SOURCES = 	\
@@ -7,8 +6,8 @@
 	gstamrwbenc.c		\
 	gstamrwbparse.c
 
-libgstamrwb_la_CFLAGS = $(GST_CFLAGS) $(AMRWB_CFLAGS) -Iamrwb-code/
-libgstamrwb_la_LIBADD = $(GST_BASE_LIBS) $(AMRWB_LIBS) amrwb-code/libamrwb.la
+libgstamrwb_la_CFLAGS = $(GST_CFLAGS) $(AMRWB_CFLAGS) -I/usr/include/amrwb
+libgstamrwb_la_LIBADD = $(GST_BASE_LIBS) $(AMRWB_LIBS)
 libgstamrwb_la_LDFLAGS = $(GST_PLUGIN_LDFLAGS)
 
 noinst_HEADERS =	\
